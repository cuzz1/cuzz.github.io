<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Go语言入门笔记 - cuzz&#039;s blog</title><meta description="博客记录"><meta property="og:type" content="blog"><meta property="og:title" content="Go语言入门笔记"><meta property="og:url" content="http://blog.cuzz.site/2019/10/11/Go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="cuzz&#039;s blog"><meta property="og:description" content="博客记录"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://picsum.photos/528/357"><meta property="article:published_time" content="2019-10-11T15:59:59.000Z"><meta property="article:modified_time" content="2020-12-29T08:58:54.718Z"><meta property="article:author" content="cuzz"><meta property="article:tag" content="Go"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://picsum.photos/528/357"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.cuzz.site/2019/10/11/Go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/"},"headline":"cuzz's blog","image":[],"datePublished":"2019-10-11T15:59:59.000Z","dateModified":"2020-12-29T08:58:54.718Z","author":{"@type":"Person","name":"John Doe"},"description":"Go语言是Google开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言，它用批判吸收的眼光，融合C语言、Java等众家之长，将简洁、高效演绎得淋漓尽致。"}</script><link rel="canonical" href="http://blog.cuzz.site/2019/10/11/Go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.13.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.0.2"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="cuzz&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/cuzz1"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://picsum.photos/528/357" alt="Go语言入门笔记"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-10-11T15:59:59.000Z" title="2019-10-11T15:59:59.000Z">2019-10-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-12-29T08:58:54.718Z" title="2020-12-29T08:58:54.718Z">2020-12-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Go/">Go</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Go语言入门笔记</h1><div class="content"><p>Go语言是Google开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言，它用批判吸收的眼光，融合C语言、Java等众家之长，将简洁、高效演绎得淋漓尽致。</p>
<a id="more"></a> 

<p>Go语言起源于2007年，当时Google的技术大神们备受C++越来越臃肿的困扰，决心开发一种新的语言来取代C++。他们认为：与其在臃肿的语言上不断增加新的特性，不如简化编程语言。于是，Golang这门新语言应运而生。</p>
<p>在十年多的时间里，Go语言发展势头强劲，凭借其简洁、高效的特性，在竞争激烈的编程语言市场中占据了一席之地。Google、腾讯、阿里等大公司纷纷选择使用Go语言来开发服务应用项目。当然，和其他的编程语言一样，Go语言也有其自身的缺陷。</p>
<h2 id="课程导论"><a href="#课程导论" class="headerlink" title="课程导论"></a>课程导论</h2><ul>
<li>特点<ul>
<li>没有“对象”，没有继承，没有泛型，没有 try/catch</li>
<li>有接口，函数式编程，CSP 并发模型（goroutine + channel）</li>
<li>语法简单</li>
</ul>
</li>
<li>基本语法<ul>
<li>变量</li>
<li>选择，循环</li>
<li>指针，数组，容器</li>
</ul>
</li>
<li>面向接口<ul>
<li>结构体</li>
<li>duck typing 的概念</li>
<li>组合的思想</li>
</ul>
</li>
<li>函数式编程<ul>
<li>闭包的概念</li>
</ul>
</li>
<li>工程化<ul>
<li>资源管理，错误处理</li>
<li>测试和文档</li>
<li>性能调优</li>
</ul>
</li>
<li>并发编程<ul>
<li>goroutine 和 channel</li>
<li>理解调度器</li>
</ul>
</li>
</ul>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="HelloWorld"><a href="#HelloWorld" class="headerlink" title="HelloWorld"></a>HelloWorld</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认变量值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableZeroValue</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">var</span> s <span class="keyword">string</span></span><br><span class="line">    fmt.Println(a, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义变量值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableInitialValue</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a, b <span class="keyword">int</span> = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">    <span class="keyword">var</span> s <span class="keyword">string</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line">    fmt.Println(a, b, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量推断</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableTypeDeduction</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a, b, c = <span class="number">1</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">true</span></span><br><span class="line">    fmt.Println(a, b, c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量推断简写</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableShorter</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a, b, c := <span class="number">1</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">true</span></span><br><span class="line">    fmt.Println(a, b, c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局变量定义不能使用 :=</span></span><br><span class="line"><span class="comment">// b := 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方便定义多个</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    b = <span class="string">&quot;abc&quot;</span></span><br><span class="line">    c = <span class="number">1</span></span><br><span class="line">    d = <span class="literal">true</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    variableZeroValue()</span><br><span class="line">    variableInitialValue()</span><br><span class="line">    variableTypeDeduction()</span><br><span class="line">    variableShorter()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="内建变量类型"><a href="#内建变量类型" class="headerlink" title="内建变量类型"></a>内建变量类型</h3><ul>
<li>bool, stiring</li>
<li>(u)int, (u)int8, (u)int16, (u)int32, (u)int64, uintptr</li>
<li>byte, rune</li>
<li>float32, float64, complex64, complex128</li>
</ul>
<h3 id="常量与枚举"><a href="#常量与枚举" class="headerlink" title="常量与枚举"></a>常量与枚举</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tri</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a, b := <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">    <span class="keyword">var</span> c <span class="keyword">int</span></span><br><span class="line">    <span class="comment">// 先把 int 转 float64 再转回 int</span></span><br><span class="line">    c = <span class="keyword">int</span>(math.Sqrt(<span class="keyword">float64</span>(a*a + b*b)))</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义常量</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">consts</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> c <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定类型, 下面需要强转为 float64</span></span><br><span class="line">    <span class="comment">// const a, b int = 3, 4</span></span><br><span class="line">    <span class="comment">// c = int(math.Sqrt(float64(a*a + b*b)))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 不指定类型, 不需要强转为 float64</span></span><br><span class="line">    <span class="keyword">const</span> a, b = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">    c = <span class="keyword">int</span>(math.Sqrt(a*a + b*b))</span><br><span class="line">    fmt.Println(c)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义枚举</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">enums</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//const (</span></span><br><span class="line">    <span class="comment">//    cpp = 0</span></span><br><span class="line">    <span class="comment">//    java = 1</span></span><br><span class="line">    <span class="comment">//    python = 2</span></span><br><span class="line">    <span class="comment">//    golang = 3</span></span><br><span class="line">    <span class="comment">//)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 iota 自增加，与上面一样</span></span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">        cpp = <span class="literal">iota</span></span><br><span class="line">        java</span><br><span class="line">        python</span><br><span class="line">        golang</span><br><span class="line">        _ <span class="comment">// 跳开 4</span></span><br><span class="line">        javascript</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    fmt.Println(cpp, java, python, golang, javascript) <span class="comment">// 0 1 2 3 5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// b, kb, mb, gb, tb, pb</span></span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">        b = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">        kb</span><br><span class="line">        mb</span><br><span class="line">        gb</span><br><span class="line">        tb</span><br><span class="line">        pb</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    fmt.Println(b, kb, mb, gb, tb, pb) <span class="comment">// 1 1024 1048576 1073741824 1099511627776 1125899906842624</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    tri()</span><br><span class="line">    